# User Guide
* [Session Logs](#Session-Logs)

# Session Logs
The session logs contains data describing setup of the session and the location of the robot in VirtualMaze.

The data in the file is formatted as follows:
~~~
<Session Information>
<flag> <timeElapsed(ms)> <position-x> <position-z> <rotation-y>
<flag> <timeElapsed(ms)> <position-x> <position-z> <rotation-y>
~~~

### Session Information V4.1
As of version 4.1, the data in the JsonObject contains:

~~~~
// Raw JSON in logs (should exist as a single line)
{"version":"20171221 Taxi Continuous v4","triggerVersion":"v4","taskType":"Continuous","posterLocations":[{"name":"CatPoster","position":{"x":-5.0,"y":1.850000023841858,"z":-7.546999931335449}}],"trialName":"Double Tee","rewardsNumber":5,"completionWindow":10000,"timeoutDuration":3000,"intersessionInterval":1000,"rewardTime":1000,"rewardDistance":0,"rewardViewCriteria":100.0,"rotationSpeed":200.0,"movementSpeed":10.0,"joystickDeadzone":0.0}

//Pretty printed version (does not exists in logs)
{
  "version": "20171221 Taxi Continuous v4",
  "triggerVersion": "v4",
  "taskType": "Continuous",
  "posterLocations": [
    {
      "name": "CatPoster",
      "position": {
        "x": -5,
        "y": 1.8500000238419,
        "z": -7.5469999313354
      }
    }
  ],
  "trialName": "Double Tee",
  "rewardsNumber": 5,
  "completionWindow": 10000,
  "timeoutDuration": 3000,
  "intersessionInterval": 1000,
  "rewardTime": 1000,
  "rewardDistance": 0,
  "rewardViewCriteria": 100,
  "rotationSpeed": 200,
  "movementSpeed": 10,
  "joystickDeadzone": 0
}
~~~~

#### Usage
Due to the format of the data, the first line of the session log can be read and parsed as a JsonObject, therefore allowing fast access to the session details without the need to manually parse the values line by line.

###### Matlab
~~~~
logs = fopen(*path to file here*);
nextline = fgetl(logs);
sessionSettings = jsondecode(nextline);
*read next lines and process data*
~~~~

### Session Information V4 (Depreciated)
In version 4, the details of the experiment is stored in plain text and should be parsed line by line. This serves as documentation for experiment data that is generated by VirtualMaze V4. The data is structured as follows.

~~~~
Version: 20171221 Taxi Continuous v4
Trigger: v4
TaskType: Continuous
PosterLocations: P1(-5,1.5,-7.55) P2(-7.55,1.5,5) P3(7.55,1.5,-5) P4(5,1.5,7.55) P5(5,1.5,2.45) P6(-5,1.5,-2.45)
TrialType: Double Tee
SpecifiedRewardNo: 400
CompletionWindow: 25000
TimeoutDuration: 4000
IntersessionInterval: 500
RewardTime: 1000
RotationSpeed: 60.4234
TranslationSpeed: 5.218029
JoystickDeadzone: 0.3033634
RewardViewCriteria: 1
~~~~
